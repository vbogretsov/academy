@model Academy.Presentation.ViewModels.QuestionViewModel

@{
    var formSettings = new
        {
            id = "askQuestion",
            @class = "form-horizontal",
            style = "padding-bottom: 20px",
            enctype = "multipart/mixed"
        };
}

@using (Html.BeginForm("Ask", "Question", FormMethod.Post, formSettings))
{
    @Html.ValidationSummary(true)
    @Html.EditorForModel("CreateQuestionEditor")
}

<script type="text/javascript">
    $(function() {
        $('#askQuestion').submit(function() {
            $.validator.unobtrusive.parse('#askQuestion');
            if ($('#askQuestion').valid()) {
                $.ajax({
                    url: this.action,
                    type: this.method,
                    data: $(this).serialize(),
                    success: function(html) {
                        $('#data').html('');
                        $('#data').append(html);
                        $('#askQuestion').find(':input').each(function() {
                            $(this).val('');
                        });
                        CollapseDisciplinesTree();
                    },
                    error: function() {
                        alert('error');
                    }
                });
            }
            return false;
        });
    });
</script>